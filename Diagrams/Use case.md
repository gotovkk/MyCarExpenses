# Диаграмма вариантов использования

<img width="803" height="884" alt="ZLLDQzj04BtlhnXywIdflPYGaAId1agXlPP5shWBgbIaDKqeWJZfno46bv1xMjfhmNLYAcp7-Gkx_wWpAobQhTLYZ8qqk-_jl3Spw-rCyLJrtqPCIHK9q5SwrsDzOqxnTu6VCUY97kChXU_CcLxg2UZS3FGzFixDKF-X42rYT0ITW-DTdkuVlHDn9h8EOv4uLA0II6NlZO9GfY9GCeaP" src="https://github.com/user-attachments/assets/3f2ce157-9e25-4249-bc86-c9a4322c24df" />

### Глоссарий

| Термин | Определение |
| :--- | :--- |
| **Пользователь** | Владелец автомобиля, который использует приложение для учета расходов, управления данными и анализа. Является единственным актером системы. |
| **Автомобиль** | Сущность, представляющая транспортное средство пользователя. К ней привязываются все расходы и события по обслуживанию. |
| **Расход** | Запись о финансовой операции, связанной с автомобилем, включающая сумму, дату и категорию. |
| **Категория расходов** | Предопределенный тип расхода (например, "Топливо", "Ремонт"), используемый для классификации и анализа трат. |
| **Аналитика** | Раздел приложения, предоставляющий визуализированную информацию (графики, диаграммы) о расходах за выбранный период. |
| **Учетная запись** | Персональные данные пользователя (логин, пароль, email), обеспечивающие доступ к его личной информации в приложении. |
| **Экспорт данных** | Функция выгрузки списка расходов в файл формата CSV для дальнейшего использования вне приложения. |

---

### Содержание

1.  [Актёры](#1-актёры)
2.  [Варианты использования](#2-варианты-использования)
    *   2.1 Регистрация
    *   2.2 Вход в систему
    *   2.3 Добавление автомобиля
    *   2.4 Добавление расхода
    *   2.5 Просмотр списка расходов
    *   2.6 Редактирование расхода
    *   2.7 Удаление расхода
    *   2.8 Просмотр аналитики
    *   2.9 Экспорт данных

---

### 1. Актёры

| Актёр | Описание |
| :--- | :--- |
| **Пользователь** | Зарегистрированный или новый пользователь системы, который хочет вести учет расходов на свой автомобиль. Он взаимодействует с интерфейсом для ввода, просмотра и анализа данных. |

---

### 2. Варианты использования

#### 2.1 Регистрация
*   **Описание:** Позволяет новому пользователю создать личную учетную запись.
*   **Предусловия:** Пользователь не авторизован в системе.
*   **Основной поток:**
    1.  Пользователь нажимает на кнопку/ссылку "Зарегистрироваться".
    2.  Система отображает форму регистрации с полями: "Имя", "Email", "Пароль".
    3.  Пользователь вводит свои данные и нажимает "Зарегистрироваться".
    4.  Система проверяет, что email не занят и данные корректны.
    5.  Система создает новую учетную запись и автоматически авторизует пользователя, перенаправляя его на главный экран.

#### 2.2 Вход в систему
*   **Описание:** Позволяет существующему пользователю получить доступ к своим данным.
*   **Предусловия:** У пользователя есть созданная учетная запись.
*   **Основной поток:**
    1.  Пользователь открывает страницу входа.
    2.  Вводит свой "Логин" (email) и "Пароль".
    3.  Нажимает кнопку "Войти".
    4.  Система проверяет учетные данные.
    5.  При успешной проверке система предоставляет доступ к главному экрану приложения.

#### 2.3 Добавление автомобиля
*   **Описание:** Позволяет пользователю добавить один или несколько автомобилей для учета расходов.
*   **Предусловия:** Пользователь авторизован.
*   **Основной поток:**
    1.  Пользователь переходит в раздел "Автомобили" и нажимает "Добавить автомобиль".
    2.  Система отображает форму с полями: "Марка и модель", "Год выпуска", "Гос. номер", "Тип топлива".
    3.  Пользователь заполняет обязательные поля и нажимает "Сохранить".
    4.  Система сохраняет информацию о новом автомобиле в профиле пользователя.

#### 2.4 Добавление расхода
*   **Описание:** Основная функция, позволяющая фиксировать траты на автомобиль.
*   **Предусловия:** Пользователь авторизован, и в системе добавлен хотя бы один автомобиль.
*   **Основной поток:**
    1.  Пользователь нажимает кнопку "Добавить расход".
    2.  Система отображает форму добавления расхода.
    3.  Пользователь заполняет поля: "Сумма", "Дата", "Категория" (выбор из списка), "Описание" (необязательно).
    4.  Если у пользователя несколько автомобилей, он выбирает, к какому из них относится расход.
    5.  Пользователь нажимает "Сохранить".
    6.  Система валидирует данные (сумма - положительное число, дата не из будущего) и сохраняет запись.

#### 2.5 Просмотр списка расходов
*   **Описание:** Отображает историю всех добавленных расходов в виде таблицы или списка.
*   **Предусловия:** Пользователь авторизован.
*   **Основной поток:**
    1.  Пользователь переходит на экран со списком расходов.
    2.  Система отображает все записи с возможностью сортировки и пагинации.
    3.  Пользователь может использовать фильтры для поиска нужных записей (по дате, категории, автомобилю).

#### 2.6 Редактирование расхода
*   **Описание:** Позволяет изменить данные ранее созданной записи о расходе.
*   **Предусловия:** Пользователь находится на экране просмотра списка расходов (см. п. 2.5).
*   **Основной поток:**
    1.  Пользователь выбирает нужную запись из списка и нажимает "Редактировать".
    2.  Система открывает форму, предзаполненную данными этого расхода.
    3.  Пользователь вносит изменения и нажимает "Сохранить".
    4.  Система обновляет запись в базе данных.

#### 2.7 Удаление расхода
*   **Описание:** Позволяет безвозвратно удалить запись о расходе.
*   **Предусловия:** Пользователь находится на экране просмотра списка расходов (см. п. 2.5).
*   **Основной поток:**
    1.  Пользователь выбирает запись из списка и нажимает "Удалить".
    2.  Система запрашивает подтверждение действия.
    3.  Пользователь подтверждает удаление.
    4.  Система удаляет запись из базы данных и обновляет список.

#### 2.8 Просмотр аналитики
*   **Описание:** Предоставляет пользователю визуальный анализ его расходов.
*   **Предусловия:** Пользователь авторизован, есть хотя бы одна запись о расходах.
*   **Основной поток:**
    1.  Пользователь переходит во вкладку "Аналитика".
    2.  Система отображает:
        *   Круговую диаграмму расходов по категориям.
        *   Линейный график динамики трат по месяцам.
        *   Общую и среднемесячную сумму расходов.
    3.  Пользователь может применить фильтры (период, автомобиль) для уточнения данных (`<<include>>` "Фильтровать данные").

#### 2.9 Экспорт данных
*   **Описание:** Позволяет выгрузить отчет о расходах в файл.
*   **Предусловия:** Пользователь авторизован.
*   **Основной поток:**
    1.  Пользователь переходит в раздел профиля или аналитики и нажимает "Экспорт".
    2.  Выбирает период и формат (CSV).
    3.  Система генерирует файл со всеми полями записей за выбранный период и предлагает его скачать.
